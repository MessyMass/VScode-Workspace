name: PimpBunny
debug: true

sceneByURL:
  - action: scrapeXPath
    url:
      - www.pimpbunny.com
    scraper: sceneScraper

sceneByName:
  action: scrapeXPath
  queryURL: https://pimpbunny.com/search/{}/
  scraper: sceneSearch

sceneByQueryFragment:
  action: scrapeXPath
  queryURL: "{url}"
  scraper: sceneScraper

sceneByFragment:
  action: scrapeXPath
  queryURL: https://pimpbunny.com/videos/{filename}/
  queryURLReplace:
    filename:
      - regex: '(.*\[)([\w-]+)(\]{1}.*)'
        with: '$2'
  scraper: sceneScraper

xPathScrapers:
  sceneSearch:
    common:
      $searchItem: //div[contains(@class,"pb-thumb-link")]
    scene:
      Title: $searchItem//div[contains(@class,"pb-title")]/text()
      URL:
        selector: $searchItem//@href
        postProcess:
          - replace:
              - regex: '^'
                with: 'https://pimpbunny.com'
      Image:
        selector: $searchItem//img/@data-src

  sceneScraper:
    scene:
      Title: //meta[@property="og:title"]/@content
      Date:
        selector: //script[contains(text(),"uploadDate")]/text()
        postProcess:
          - replace:
              - regex: '.*"uploadDate":\s*"([0-9]{4}-[0-9]{2}-[0-9]{2})".*'
                with: '$1'
          - parseDate: '2006-01-02'
      Tags:
        Name: //meta[@name="keywords"]/@content
        postProcess:
          - split: ','
          - trim
      Image: //meta[@property="og:image"]/@content
      URL: //meta[@property="og:url"]/@content
      Description: //meta[@name="description"]/@content
      Performers:
        Name: //meta[@name="keywords"]/@content
        postProcess:
          - split: ','
          - trim

driver:
  cookies:
    - CookieURL: "https://pimpbunny.com"
      Cookies:
        - Name: "PHPSESSID"
          Value: "g5g3nmabo1kfooinv6r4naivrn"
        - Name: "cf_clearance"
          Value: "rZWMEWJ7RryDOgxbZsWP5GXGkFmdT57iPQttbfOd7j4-1768803318-1.2.1.1-VmFbTPV7l3fJZM.E1oTBGrjcnYPEiQarPq1huqkEyafh.eanWOvdMpGTOWXFFeccurQcRRC8JtSnL.Egv7JxWYuoLLja4kIlZsb8ZxMLan.2miI4NMxWa7fUq3tW4LpdcXuXExdUbiEDFzDjuWFMSimG.JvigBwEiGMZ.rsrIwOvsfwyoho3cDfgKzUzTYaqyqB5SqnHt3BUmhdeVxSCvHHYLO8RqPv2p1bGh6BMVIE"
